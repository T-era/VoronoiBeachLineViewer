# Curve
## f
focus (x1, y1)とdepth (dy)として表現する。
y1==dy なら半直線
y1<dy なら二次曲線

xが与えられた場合、yは以下になる

```
(x1-x)^2 + (y1-y)^2 = (dy-y)^2
(x1-x)^2 + y1^2 - 2*y1*y + y^2 = dy^2 - 2*dy*y + y^2
(x1-x)^2 + y1^2 - dy^2 = 2*y1*y - 2*dy*y
(x1-x)^2 + y1^2 - dy^2 = (2*y1 - 2*dy) * y
⇒ y = ((x1-x)^2 + y1^2 - dy^2) / 2 / (y1-dy)
```

## 2つの曲線の交点

- 線1:y = ((x1-x)^2 + y1^2 - dy^2) / 2 / (y1-dy)
- 線2:y = ((x2-x)^2 + y2^2 - dy^2) / 2 / (y2-dy)

の交点は

```
((x1-x)^2 + y1^2 - dy^2) / 2 / (y1-dy) = ((x2-x)^2 + y2^2 - dy^2) / 2 / (y2-dy)

二次方程式の解の公式に当てはめる
A = y2 - y1
B = -2 * (x1 * y2 - x2 * y1 - x1 * dy + x2 * dy)
C = (x1 ^ 2 + y1 ^ 2 - dy ^ 2) * (y2 - dy)
	- (x2 ^ 2 + y2 ^ 2 - dy ^ 2) * (y1 - dy)
```
